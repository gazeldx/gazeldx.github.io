---
layout: post
title:  "Yarn"
date:   2020-05-20 09:52:11
categories: Yarn
---

Docker `yarn start` got:
 
`Usage Error: The project in /Users/lanezhang/projects/sauron/frontend/package.json doesn't seem to have been installed - running an install there might help`

or `yarn .pnp.js Error: Not a zip archive`.

Both the two errors are caused by the failure of `yarn install`. 

You can find errors like `YN0018: â”‚ yargs@npm:12.0.5: The remote archive doesn't match the expected checksum`.

So try to make `yarn install` succeed first.

Solution:
`Dockerfile`:

`frontend/Dockerfile`:
```dockerfile
FROM node

WORKDIR /code/frontend

RUN yarn cache clean
RUN yarn install

EXPOSE 3000
CMD ["yarn", "start"]
```

`docker-compose.yml`
```yaml
frontend:
    build: ./frontend
    volumes:
      - ./frontend:/code/frontend
```


